---
title: "proyecto_final"
output: html_document
date: "2025-11-05"
---
Cargar las librerías y la base de datos y limpiarla
```{r}
library(dplyr)
library(ggplot2)
library(modeest)
library(stringr)

tabla <- read.csv("bd1_8.csv", sep=";", header= TRUE)
head(tabla)


# Clean the data by trimming whitespace
tabla <- tabla %>%
  mutate(across(where(is.character), ~trimws(.)))

```

Seleccionar sólo Bejaia de la base de datos así como si hubo incendio o no
```{r}
# Now filter for Bejaia
Bejaia <- tabla %>% 
  filter(Region == "Bejaia")

# If you want only Bejaia AND fire:
Bejaia_fire <- Bejaia %>%
  filter(Classes == "fire")
Bejaia_not_fire <- Bejaia %>% 
  filter(Classes == "not fire")
```

vemos como quedan los datos
```{r}
ggplot(Bejaia, aes(Classes, fill = Classes))+
  geom_bar()
```
Hay casi la misma cantidad de días con fuego que sin fuego
```{r}
Bejaia_frecuencias <- Bejaia %>% 
  group_by(Classes) %>% 
  summarise(ni = n()) %>% 
  mutate(fi = round(ni/sum(ni), 4)) %>% 
  mutate(fi_porc = round(fi*100, 2));Bejaia_frecuencias
```
Tras hacer las frecuencias, vemos que el 52% de los días no hubieron incendios y el 48% de los días sí.

Ahora vamos a determinar qué factores contribuyen a los incendios. Empezaremos con la lluvia
```{r}
lluvia_media_Bf <- Bejaia_fire %>% 
  summarize(máximo = max(Rain),
            mínimo = min(Rain),
            media = mean(Rain),
            var = mean((Rain - media)^2),
            sd = sqrt(var)
            );lluvia_media_Bf
lluvia_media_Bnf <- Bejaia_not_fire%>% 
  summarize(máximo = max(Rain),
            mínimo = min(Rain),
            media = mean(Rain),
            mediana = median(Rain),
            var = mean((Rain - media)^2),
            sd = sqrt(var),
            CV = sd/media,
            DV = mean(sum(Rain-mediana))
            );lluvia_media_Bnf

```

vamos a ver cuantos días hubieron lluvia o no en Sidi-Bel_Abbes 
```{r}
# Now filter for Bejaia
Sidi <- tabla %>% 
  filter(Region == "Sidi-Bel_Abbes")

# If you want only Bejaia AND fire:
Sidi_fire <- Sidi %>%
  filter(Classes == "fire")
Sidi_not_fire <- Sidi %>% 
  filter(Classes == "not fire")

ggplot(Sidi, aes(Classes, fill = Classes))+
  geom_bar()

Sidi_frecuencias <- Sidi %>% 
  group_by(Classes) %>% 
  summarise(ni = n()) %>% 
  mutate(fi = round(ni/sum(ni), 4)) %>% 
  mutate(fi_porc = round(fi*100, 2));Sidi_frecuencias

```
Vemos que han habido más días en los que hubieron incendios (64%) que los días en los que no hubieron
